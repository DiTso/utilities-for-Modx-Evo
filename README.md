## Репозиторый из полесзными сниппетами, плагинами и js кодом


## Снипеты

### firstImage - выводит первую картикну из multiTv
   
   mode  - режым вывода ( return / echo ) по умолчанию return  
   num  - номер картинки начиная с нуля по умолчанию первая  
   input -    json масив MultiTV  
   options -  правильно для phpthumb  
   key ключ -  елемента в масиве по умолчанию image  
   
### getElements Получение значений для select в админке из дерева
   
type уткуда брать из дерева 'doc'  
parent id родителя откуда брать документы  
key поле для идентификатора   
   
    Пример @EVAL return $modx->runSnippet("getElements", array("key"=>"id","parent"=>"10474"));
    
### default
Получание значение а не id для тв полей где указано возможние значения
тоесть не yes для чекбокса, а да
    
    Пример [[default? &name=`producer` &val=`[+producer+]`]]

    
### Sale   Получение скидки на основании процента или старой цены
Если занада цена и старая получаем процент скидки.
Если задана цена и процент получаем цену со скидкой

afterPoint количество знаков после комы  
price  цена  
oldPrice  старая цена  
percent  процент  

    [[sale? &price=`500` &oldPrice=`1890`]]
    [[sale? &price=`124.555` &percent=`5`]]
    
### plural склонение слов к числу

n число к которому слова склоняються
lang  язык (ru,ua,en)
t1 Текст 1
t2 Текст 1
t3 Текст 1

    Пример [[plural? &n=`1` &t1=`отзыв` &t2=`отзыва` &t3=`отзывов`]]

 